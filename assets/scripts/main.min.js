"use strict";function simulateClick(t){var e=new window.MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});t.dispatchEvent(e)}function displayTop(){var t=document.querySelector("#up");t&&(375<=document.body.scrollTop||375<=document.documentElement.scrollTop?t.setAttribute("data-open","true"):t.setAttribute("data-open","false"),t.addEventListener("click",getTop,scrollToTop))}function getTop(){document.body.scrollTop=0,document.documentElement.scrollTop=0}function scrollToTop(){var t=-window.scrollY/(500/15),e=setInterval(function(){0!==window.scrollY?window.scrollBy(0,t):clearInterval(e)},15)}function initialize(){console.log("Welcome! ðŸ‘‹"),getSourceData(),getPage(),getContactEmail(),getNetworkStatus()}function getPage(){var e=document.querySelector("button#menu");e&&e.addEventListener("click",function(){var t=document.querySelector("#info[data-open]");"false"==t.getAttribute("data-open")?(t.setAttribute("data-open","true"),t.previousElementSibling.setAttribute("data-open","false"),e.textContent="Close Info"):(t.setAttribute("data-open","false"),t.previousElementSibling.setAttribute("data-open","true"),e.textContent="Info")})}function getContactEmail(){var t=document.querySelectorAll("[data-email]");Array.from(t).forEach(function(e){function n(t){e.id==t.target.id?(t=(t="helloATfebreroDOTinfo").replace(/AT/,"@").replace(/DOT/,"."),e.setAttribute("data-email","true"),e.setAttribute("href","mailto:".concat(t))):(e.setAttribute("data-email","false"),e.removeAttribute("data-value"),e.removeAttribute("href"),e.removeAttribute("rel"),e.removeAttribute("target"))}document.addEventListener("click",function(t){n(t)}),document.addEventListener("keydown",function(t){"Enter"===t.key&&n(t)})})}function getNetworkStatus(){var t=document.querySelector("#status"),e=document.querySelector("#online"),n=document.querySelector("#offline");function a(){"offline"==(navigator.onLine?"online":"offline")?(t.setAttribute("data-open","true"),n.setAttribute("data-open","true"),e.setAttribute("data-open","false")):(t.setAttribute("data-open","true"),e.setAttribute("data-open","true"),n.setAttribute("data-open","false"),setTimeout(function(){e.setAttribute("data-open","false"),t.setAttribute("data-open","false")},5800))}window.addEventListener("online",a),window.addEventListener("offline",a)}function getSourceData(){displayLoader(),fetchData()}function getStoredData(){sessionStorage.getItem("data")&&(getCountry(),hideLoader())}function fetchData(){sessionStorage.getItem("data")?getStoredData():fetch("./assets/data/collection.json",{cache:"no-cache"}).then(function(t){return t.json()}).then(function(t){sessionStorage.setItem("data",JSON.stringify(t)),getStoredData()}).catch(function(t){console.log("Error Source =>",t)})}function getOption(){var e=document.querySelector("#select");document.addEventListener("click",function(t){"select"!=t.target.id||"true"==e.getAttribute("aria-expanded")?e.setAttribute("aria-expanded","false"):e.setAttribute("aria-expanded","true")})}function getCountry(){var a,t=sessionStorage.getItem("data"),o=JSON.parse(t)[0],t=Object.keys(o),e=Object.values(o),r=[],n=(0==r.length&&e.map(function(t){t=t[0].icon;r.push(t)}),document.querySelector("#option")),i=(n&&((a=document.createElement("div")).setAttribute("class","random__list"),a.setAttribute("aria-labelledby","select"),t.map(function(t,e){var n=document.createElement("button");n.setAttribute("class","random__item"),n.setAttribute("value",t),n.innerHTML='\n          <img src="'.concat(r[e],'" width="20" height="15" alt="Icon">\n          <span>').concat(t,"</span>\n        "),a.appendChild(n),n.addEventListener("click",function(){n.value==t&&randomizeFact(o[t])})}),n.appendChild(a)),getOption(),e.flat()),t=i[Math.floor(Math.random()*i.length)],n=document.querySelector("#roll");n&&n.addEventListener("click",function(){mapFact(i[Math.floor(Math.random()*i.length)])}),mapFact(t)}function randomizeFact(t){var e=t,t=e[Math.floor(Math.random()*e.length)];document.querySelector("#roll").addEventListener("click",function(){mapFact(e[Math.floor(Math.random()*e.length)])}),mapFact(t)}function mapFact(t){var e=document.querySelector("#fact"),t=(resetMapFact(),{id:t.id,country:t.country,text:t.fact,url:t.source});e.innerHTML='\n    <div class="fact">\n      <section class="fact__content">\n        <span class="fact__badge">'.concat(t.country," Fact# ").concat(t.id,'</span>\n        <a href="').concat(t.url,'" target="_blank" rel="noopener noreferrer" class="fact__link">').concat(t.text,"</a>\n      </section>\n    </div>\n  ")}function resetMapFact(){var t=document.querySelector("#fact");if(t.hasChildNodes())for(;t.firstChild;)t.removeChild(t.firstChild)}function displayLoader(){var t,e=document.querySelector("#fact");e&&(e.classList.add("random__loader"),(t=document.createElement("div")).setAttribute("class","loader"),t.innerHTML='\n    <span class="loader__item"></span>\n    <span class="loader__item"></span>\n    <span class="loader__item"></span>\n    <span class="loader__item"></span>\n    <span class="loader__item"></span>',e.appendChild(t))}function hideLoader(){var t=document.querySelector("#fact");t&&t.classList.remove("random__loader")}"serviceWorker"in navigator&&navigator.serviceWorker.register("./serviceWorker.js").then(function(){console.log("Service Worker is Registered")}),document.addEventListener("keydown",function(t){var e=t.target;"Enter"===t.key&&e.classList.contains("skip")&&(simulateClick(e),history.pushState?history.pushState("",document.title,window.location.pathname):location="/")}),window.onscroll=function(){displayTop()},window.addEventListener("load",initialize);
//# sourceMappingURL=main.min.map
